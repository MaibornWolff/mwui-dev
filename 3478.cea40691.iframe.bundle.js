/*! For license information please see 3478.cea40691.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_maibornwolff_mwui_stencil=self.webpackChunk_maibornwolff_mwui_stencil||[]).push([[3478],{"./dist/esm/mw-img.entry.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{mw_img:()=>MwImg});var _index_f48f7244_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./dist/esm/index-f48f7244.js");const MwImg=class{constructor(hostRef){(0,_index_f48f7244_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,hostRef),this.imgDidLoad=(0,_index_f48f7244_js__WEBPACK_IMPORTED_MODULE_0__.c)(this,"imgDidLoad",6),this.imgLoadError=(0,_index_f48f7244_js__WEBPACK_IMPORTED_MODULE_0__.c)(this,"imgLoadError",6),this.onIntersection=async entries=>{for(const entry of entries)entry.isIntersecting&&(this.observer&&this.disconnectObserver(),this.setSrc(entry.target))},this.isLoaded=!1,this.srcSetState=void 0,this.preloadSrc=void 0,this.src=void 0,this.alt=void 0,this.lazyLoad=!0,this.fallback=void 0,this.srcset=void 0}onSrcSet(srcset){this.setSrcSet(srcset)}connectedCallback(){this.srcset&&this.setSrcSet(this.srcset)}componentDidLoad(){const{imgElement,lazyLoad}=this;imgElement&&lazyLoad?this.connectObserver(imgElement):this.setSrc(imgElement)}setSrcSet(srcSet){this.srcSetState=Array.isArray(srcSet)?srcSet.map((set=>`${set.src} ${set.size}`)).join(","):srcSet}setSrc(imgEl){imgEl.getAttribute("data-src")&&(imgEl.setAttribute("src",imgEl.getAttribute("data-src")),imgEl.removeAttribute("data-src"))}connectObserver(el){this.observer=new IntersectionObserver(this.onIntersection),this.observer.observe(el)}disconnectObserver(){this.observer.disconnect()}onLoad(){this.isLoaded=!0,this.imgDidLoad.emit()}onError(){this.imgLoadError.emit(),this.fallback&&this.imgElement.setAttribute("src",this.fallback)}render(){const{src,alt,preloadSrc,isLoaded,srcSetState,onLoad,onError}=this;return(0,_index_f48f7244_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_f48f7244_js__WEBPACK_IMPORTED_MODULE_0__.H,{class:"mw-img"},(0,_index_f48f7244_js__WEBPACK_IMPORTED_MODULE_0__.h)("img",{decoding:"async","data-src":src,alt,part:"image",onLoad:onLoad.bind(this),onError:onError.bind(this),ref:el=>this.imgElement=el,srcset:srcSetState}),preloadSrc&&!isLoaded&&(0,_index_f48f7244_js__WEBPACK_IMPORTED_MODULE_0__.h)("span",null,(0,_index_f48f7244_js__WEBPACK_IMPORTED_MODULE_0__.h)("img",{decoding:"sync",src:preloadSrc,alt,id:"preload-img"}),(0,_index_f48f7244_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"blur"})))}get el(){return(0,_index_f48f7244_js__WEBPACK_IMPORTED_MODULE_0__.g)(this)}static get watchers(){return{srcset:["onSrcSet"]}}};MwImg.style=":host{display:block;position:relative;width:100%;height:100%}:host img,:host span,:host .blur{display:block;position:absolute;top:0;left:0;width:100%;height:100%}:host #preload-img{z-index:2}:host .blur{backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);z-index:3}"}}]);